<!DOCTYPE html>
<html>
<head>
  <title>Vamsi Teen Patti</title>
  <style>
    body {
      background: green;
      color: white;
      text-align: center;
      font-family: Arial;
    }
    .card {
      display: inline-block;
      background: white;
      color: black;
      padding: 15px;
      margin: 8px;
      border-radius: 8px;
      font-size: 20px;
      width: 60px;
    }
    .player {
      margin-top: 20px;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

<h1>Vamsi Teen Patti</h1>
<button onclick="playGame()">Deal Cards</button>

<div class="player">
  <h2>You</h2>
  <div id="playerCards"></div>
  <p id="playerHand"></p>
</div>

<div class="player">
  <h2>Computer</h2>
  <div id="computerCards"></div>
  <p id="computerHand"></p>
</div>

<h2 id="result"></h2>

<script>
const deck = [
"Aâ™ ","2â™ ","3â™ ","4â™ ","5â™ ","6â™ ","7â™ ","8â™ ","9â™ ","10â™ ","Jâ™ ","Qâ™ ","Kâ™ ",
"Aâ™¥","2â™¥","3â™¥","4â™¥","5â™¥","6â™¥","7â™¥","8â™¥","9â™¥","10â™¥","Jâ™¥","Qâ™¥","Kâ™¥",
"Aâ™¦","2â™¦","3â™¦","4â™¦","5â™¦","6â™¦","7â™¦","8â™¦","9â™¦","10â™¦","Jâ™¦","Qâ™¦","Kâ™¦",
"Aâ™£","2â™£","3â™£","4â™£","5â™£","6â™£","7â™£","8â™£","9â™£","10â™£","Jâ™£","Qâ™£","Kâ™£"
];

function shuffle(array) {
  return array.sort(() => 0.5 - Math.random());
}

function playGame() {
  let shuffled = shuffle([...deck]);
  let player = shuffled.slice(0,3);
  let computer = shuffled.slice(3,6);

  showCards("playerCards", player);
  showCards("computerCards", computer);

  let pRank = getRank(player);
  let cRank = getRank(computer);

  document.getElementById("playerHand").innerText = "Hand: " + pRank.name;
  document.getElementById("computerHand").innerText = "Hand: " + cRank.name;

  if(pRank.value > cRank.value) {
    document.getElementById("result").innerText = "ðŸŽ‰ You Win!";
  } else if(pRank.value < cRank.value) {
    document.getElementById("result").innerText = "ðŸ˜¢ Computer Wins!";
  } else {
    document.getElementById("result").innerText = "ðŸ¤ Draw!";
  }
}

function showCards(id, cards) {
  let div = document.getElementById(id);
  div.innerHTML = "";
  cards.forEach(c => {
    div.innerHTML += `<div class="card">${c}</div>`;
  });
}

function getRank(cards) {
  let ranks = cards.map(c => c.slice(0,-1));
  let suits = cards.map(c => c.slice(-1));

  let count = {};
  ranks.forEach(r => count[r] = (count[r]||0)+1);

  let sameSuit = suits[0]==suits[1] && suits[1]==suits[2];

  let values = ranks.map(r=>{
    if(r=="A") return 14;
    if(r=="K") return 13;
    if(r=="Q") return 12;
    if(r=="J") return 11;
    return parseInt(r);
  }).sort((a,b)=>a-b);

  let sequence = (values[0]+1==values[1] && values[1]+1==values[2]) ||
                 (values[0]==2 && values[1]==3 && values[2]==14);

  if(Object.values(count).includes(3)) return {name:"Trail (Trio)", value:6};
  if(sequence && sameSuit) return {name:"Pure Sequence", value:5};
  if(sequence) return {name:"Sequence", value:4};
  if(sameSuit) return {name:"Color (Flush)", value:3};
  if(Object.values(count).includes(2)) return {name:"Pair", value:2};
  return {name:"High Card", value:1};
}
</script>

</body>
</html>
